"use strict";(self.webpackChunkbackstage_react_ts=self.webpackChunkbackstage_react_ts||[]).push([[777],{9990:function(t,e,n){n.d(e,{CM:function(){return E},Dm:function(){return c},FX:function(){return O},Hv:function(){return i},Jk:function(){return g},Km:function(){return f},OM:function(){return o},P$:function(){return w},QS:function(){return T},UP:function(){return x},WS:function(){return P},WU:function(){return d},XV:function(){return q},Xk:function(){return v},Zk:function(){return h},Zm:function(){return Z},bN:function(){return y},cN:function(){return u},dP:function(){return j},h3:function(){return l},h8:function(){return s},jH:function(){return a},rs:function(){return S},s9:function(){return p},vz:function(){return m}});var r=n(544),o=function(t){return r.Z.request({url:"/examEdit/getExam",method:"POST",data:t})},u=function(t){return r.Z.request({url:"/examEdit/insertQuestion",method:"POST",data:t})},i=function(t){return r.Z.request({url:"/examEdit/addNewProject",method:"POST",data:t})},a=function(t){return r.Z.request({url:"/examEdit/copyProject",method:"POST",data:t})},c=function(t){return r.Z.request({url:"/examEdit/getExamList",method:"POST",data:t})},s=function(t){return r.Z.request({url:"/examEdit/getQuesStore",method:"POST",data:t})},d=function(t){return r.Z.request({url:"/examEdit/quesEditItem",method:"POST",data:t})},l=function(t){return r.Z.request({url:"/examEdit/changeQuestionType",method:"POST",data:t})},m=function(t){return r.Z.request({url:"/examEdit/changeQuestionScore",method:"POST",data:t})},p=function(t){return r.Z.request({url:"/examEdit/changeQuestionAnswer",method:"POST",data:t})},f=function(t){return r.Z.request({url:"/examEdit/deleteQuestion",method:"POST",data:t})},h=function(t){return r.Z.request({url:"/examEdit/getIssueStatus",method:"POST",data:t})},x=function(t){return r.Z.request({url:"/examEdit/issueExam",method:"POST",data:t})},v=function(t){return r.Z.request({url:"/examEdit/addNewType",method:"POST",data:t})},y=function(t){return r.Z.request({url:"/examEdit/addQuesToStore",method:"POST",data:t})},S=function(t){return r.Z.request({url:"/examEdit/cancelCollect",method:"POST",data:t})},E=function(t){return r.Z.request({url:"/examEdit/removeImage",method:"POST",data:t})},Z=function(t){return r.Z.request({url:"/examEdit/addOption",method:"POST",data:t})},g=function(t){return r.Z.request({url:"/examEdit/removeOption",method:"POST",data:t})},T=function(t){return r.Z.request({url:"/examEdit/editExamMSG",method:"POST",data:t})},P=function(t){return r.Z.request({url:"/examEdit/stopIssue",method:"POST",data:t})},q=function(t){return r.Z.request({url:"/examEdit/copyFromStore",method:"POST",data:t})},j=function(t){return r.Z.request({url:"/examEdit/copyFromTemp",method:"POST",data:t})},O=function(t){return r.Z.request({url:"/examEdit/updateStoreList",method:"POST",data:t})},w=function(t){return r.Z.request({url:"/examEdit/removeExam",method:"POST",data:t})}},9387:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(6805),o={demo:{demoTest:function(t){return{type:r.VZ,payload:t}}},examEdit:{setOriginList:function(t){return{type:r.zE,payload:t}},setStepStatus:function(t){return{type:r.Yn,payload:t}},setQuesFocus:function(t){return{type:r.TL,payload:t}},setQuesType:function(t){return{type:r.ur,payload:t}},setExamId:function(t){return{type:r.Sh,payload:t}},updateQuesList:function(t){return{type:r.Mc,payload:t}},setFocusMsg:function(t){return{type:r.O5,payload:t}},changeShowSerial:function(t){return{type:r.pG,payload:t}},setHiddenHolder:function(t){return{type:r.ZQ,payload:t}},setLoginId:function(t){return{type:r.mf,payload:t}},setTypeList:function(t){return{type:r.lA,payload:t}},setQuestionStore:function(t){return{type:r.dG,payload:t}},setExamStatus:function(t){return{type:r.hf,payload:t}},scrollToBottom:function(){return document.documentElement.scrollTo({behavior:"smooth",top:document.documentElement.scrollHeight}),{type:"",payload:{}}},scrollToActiveQues:function(t){var e,n=null===(e=document.querySelector(".normal-question-list .question-item:nth-child(".concat(t+1,")")))||void 0===e?void 0:e.getBoundingClientRect().top;return document.documentElement.scrollTo({behavior:"smooth",top:n?n-75+document.documentElement.scrollTop:0}),{type:"",payload:{}}}}}},544:function(t,e,n){var r=n(4569),o=n.n(r)().create({baseURL:"/api",timeout:5e3});o.interceptors.request.use((function(t){return t}),(function(){throw new Error("\u53d1\u8d77\u8bf7\u6c42\u51fa\u9519")})),o.interceptors.response.use((function(t){return t.data}),(function(t){if(t&&t.response&&t.response.status)switch(t.response.status){case 504:case 500:case 404:console.error("\u670d\u52a1\u5668\u5f02\u5e38");break;case 401:console.error("\u672a\u6388\u6743");break;case 403:console.error("\u65e0\u6743\u8bbf\u95ee");break;case 422:console.error("\u53c2\u6570\u51fa\u9519");break;default:console.error("\u672a\u77e5\u9519\u8bef")}})),e.Z=o},1781:function(t,e,n){n.r(e),n.d(e,{default:function(){return S}});var r=n(5861),o=n(5671),u=n(3144),i=n(136),a=n(8557),c=n(7757),s=n.n(c),d=n(9387),l=n(2791),m=n(364),p=n(3695),f=n(8757),h=n(9421),x=n(9990),v=n(184),y=function(t){(0,i.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;(0,o.Z)(this,n);for(var u=arguments.length,i=new Array(u),a=0;a<u;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={examSelectWindow:!1,examList:[]},t.newProject=(0,r.Z)(s().mark((function e(){var n,r,o,u,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props,r=n.login_id,o=n.setExamId,u=n.setStepStatus,e.next=3,(0,x.Hv)({creator_id:r});case 3:(i=e.sent)&&"1001"===i.code?(u({index:0}),o({exam_id:i.exam_id}),t.props.history.push("/layout/examination")):p.ZP.warn("\u51fa\u9519\u4e86");case 5:case"end":return e.stop()}}),e)}))),t.getList=(0,r.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Dm)({creator_id:t.props.login_id});case 2:(n=e.sent)&&"1001"===n.code&&n.examList&&(r=n.examList.sort((function(t,e){return new Date(e.update_time).getTime()-new Date(t.update_time).getTime()})),t.setState({examList:r}));case 4:case"end":return e.stop()}}),e)}))),t}return(0,u.Z)(n,[{key:"render",value:function(){var t=this,e=this.newProject,n=this.props,o=n.setStepStatus,u=n.setExamId,i=this.state,a=i.examSelectWindow,c=i.examList;return(0,v.jsxs)("div",{className:"add-pro-page",children:[(0,v.jsx)("span",{className:"back iconfont icon-houtui1",onClick:function(){t.props.history.goBack()}}),(0,v.jsxs)("div",{className:"create-type",children:[(0,v.jsx)("div",{className:"title",children:"\u9009\u62e9\u521b\u5efa\u65b9\u5f0f"}),(0,v.jsxs)("div",{className:"content",children:[(0,v.jsx)("div",{className:"blank",onClick:e,children:(0,v.jsxs)("h3",{children:[(0,v.jsx)("img",{src:"http://192.168.5.104:5008/img/add-project.png",alt:""}),(0,v.jsx)("p",{children:"\u7a7a\u767d\u521b\u5efa"}),(0,v.jsx)("p",{children:"\u4ece0\u642d\u5efa\u8003\u8bd5"})]})}),(0,v.jsx)("div",{className:"copy",onClick:function(){t.getList(),t.setState({examSelectWindow:!0})},children:(0,v.jsxs)("h3",{children:[(0,v.jsx)("img",{src:"http://192.168.5.104:5008/img/copy-project.png",alt:""}),(0,v.jsx)("p",{children:"\u590d\u5236\u9879\u76ee"}),(0,v.jsx)("p",{children:"\u590d\u5236\u5df2\u521b\u5efa\u9879\u76ee"})]})}),(0,v.jsx)(f.Z,{visible:a,title:"\u9879\u76ee\u9009\u62e9",style:{minWidth:740,maxWidth:1e3},bodyStyle:{minHeight:200,padding:"18px 30px 12px"},centered:!0,footer:null,onCancel:function(){t.setState({examSelectWindow:!1})},children:(0,v.jsx)("ul",{className:"exam-select",children:c.length>0?c.map((function(e){var n;return(0,v.jsxs)("li",{children:[(0,v.jsx)("p",{children:e.exam_name}),(0,v.jsxs)("p",{className:"question_count",children:["\u5171",null===(n=e.question_list)||void 0===n?void 0:n.split(",").length,"\u9898"]}),(0,v.jsx)("div",{className:"float",onClick:(0,r.Z)(s().mark((function n(){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,x.jH)({exam_id:e.id,creator_id:t.props.login_id});case 2:"1001"===(r=n.sent).code&&(o({index:0}),u({exam_id:r.insertId}),t.props.history.push("/layout/examination"));case 4:case"end":return n.stop()}}),n)}))),children:"\u590d\u5236\u9879\u76ee"})]},e.id)})):(0,v.jsx)(h.Z,{description:"\u6682\u65e0\u5185\u5bb9"})})})]})]})]})}}]),n}(l.Component),S=(0,m.$j)((function(t){return t.examEdit}),d.Z.examEdit)(y)},9464:function(t,e,n){n.d(e,{m:function(){return a}});var r=function(){return{height:0,opacity:0}},o=function(t){return{height:t.scrollHeight,opacity:1}},u=function(t,e){return!0===(null===e||void 0===e?void 0:e.deadline)||"height"===e.propertyName},i={motionName:"ant-motion-collapse",onAppearStart:r,onEnterStart:r,onAppearActive:o,onEnterActive:o,onLeaveStart:function(t){return{height:t?t.offsetHeight:0}},onLeaveActive:r,onAppearEnd:u,onEnterEnd:u,onLeaveEnd:u,motionDeadline:500},a=function(t,e,n){return void 0!==n?n:"".concat(t,"-").concat(e)};e.Z=i},520:function(t,e,n){function r(t,e){return!!t&&t.contains(e)}n.d(e,{Z:function(){return r}})},818:function(t,e,n){var r=n(2791),o=n(4164),u=n(4937),i=(0,r.forwardRef)((function(t,e){var n=t.didUpdate,i=t.getContainer,a=t.children,c=(0,r.useRef)();(0,r.useImperativeHandle)(e,(function(){return{}}));var s=(0,r.useRef)(!1);return!s.current&&(0,u.Z)()&&(c.current=i(),s.current=!0),(0,r.useEffect)((function(){null===n||void 0===n||n(t)})),(0,r.useEffect)((function(){return function(){var t,e;null===(t=c.current)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(c.current)}}),[]),c.current?o.createPortal(a,c.current):null}));e.Z=i}}]);
//# sourceMappingURL=777.dbfe6810.chunk.js.map