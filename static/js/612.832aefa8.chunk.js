"use strict";(self.webpackChunkbackstage_react_ts=self.webpackChunkbackstage_react_ts||[]).push([[612],{7645:function(e,t,n){n.d(t,{Cm:function(){return l},ES:function(){return f},FZ:function(){return a},JN:function(){return o},Jw:function(){return y},PL:function(){return p},W0:function(){return d},XE:function(){return g},aI:function(){return c},aP:function(){return r},dB:function(){return u},ef:function(){return h},p9:function(){return i},zW:function(){return m}});var s=n(544),o=function(e){return s.Z.request({url:"/HXCsetObj",method:"GET",params:e})},a=function(e){return s.Z.request({url:"/HXCGetCodes",method:"GET",params:e})},i=function(e){return s.Z.request({url:"/HXCGetRandom",method:"GET",params:e})},r=function(e){return s.Z.request({url:"/setPassCode",method:"GET",params:e})},u=function(e){return console.log(e),s.Z.request({url:"/HXCxiuPass",method:"GET",params:e})},c=function(){return s.Z.request({url:"/HXCGetUserData",method:"GET"})},l=function(e){return console.log(e),s.Z.request({url:"/HXCxiuType",method:"GET",params:e})},d=function(e){return console.log(e),s.Z.request({url:"/HXCDelUser",method:"GET",params:e})},h=function(e){return s.Z.request({url:"/HXCScreenUser",method:"GET",params:e})},p=function(e){return s.Z.request({url:"/HXCEnitOk",method:"GET",params:e})},g=function(e){return s.Z.request({url:"/HXCAddOk",method:"GET",params:e})},f=function(e){return s.Z.request({url:"/HXCUserSearch",method:"GET",params:e})},m=function(){return s.Z.request({url:"/HXCDelLogList",method:"GET"})},y=function(e){return console.log(e),s.Z.request({url:"/HXCRegainDel",method:"GET",params:e})}},9387:function(e,t,n){n.d(t,{Z:function(){return o}});var s=n(6805),o={demo:{demoTest:function(e){return{type:s.VZ,payload:e}}},examEdit:{setOriginList:function(e){return{type:s.zE,payload:e}},setStepStatus:function(e){return{type:s.Yn,payload:e}},setQuesFocus:function(e){return{type:s.TL,payload:e}},setQuesType:function(e){return{type:s.ur,payload:e}},setExamId:function(e){return{type:s.Sh,payload:e}},updateQuesList:function(e){return{type:s.Mc,payload:e}},setFocusMsg:function(e){return{type:s.O5,payload:e}},changeShowSerial:function(e){return{type:s.pG,payload:e}},setHiddenHolder:function(e){return{type:s.ZQ,payload:e}},setLoginId:function(e){return{type:s.mf,payload:e}},setTypeList:function(e){return{type:s.lA,payload:e}},setQuestionStore:function(e){return{type:s.dG,payload:e}},setExamStatus:function(e){return{type:s.hf,payload:e}},scrollToBottom:function(){return document.documentElement.scrollTo({behavior:"smooth",top:document.documentElement.scrollHeight}),{type:"",payload:{}}},scrollToActiveQues:function(e){var t,n=null===(t=document.querySelector(".normal-question-list .question-item:nth-child(".concat(e+1,")")))||void 0===t?void 0:t.getBoundingClientRect().top;return document.documentElement.scrollTo({behavior:"smooth",top:n?n-75+document.documentElement.scrollTop:0}),{type:"",payload:{}}}}}},544:function(e,t,n){var s=n(4569),o=n.n(s)().create({baseURL:"/api",timeout:5e3});o.interceptors.request.use((function(e){return e}),(function(){throw new Error("\u53d1\u8d77\u8bf7\u6c42\u51fa\u9519")})),o.interceptors.response.use((function(e){return e.data}),(function(e){if(e&&e.response&&e.response.status)switch(e.response.status){case 504:case 500:case 404:console.error("\u670d\u52a1\u5668\u5f02\u5e38");break;case 401:console.error("\u672a\u6388\u6743");break;case 403:console.error("\u65e0\u6743\u8bbf\u95ee");break;case 422:console.error("\u53c2\u6570\u51fa\u9519");break;default:console.error("\u672a\u77e5\u9519\u8bef")}})),t.Z=o},3612:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var s=n(5671),o=n(3144),a=n(136),i=n(8557),r=n(2791),u=n(7645),c=n(8272),l=n(4215),d=n(199),h=n(7309),p=n(3695),g=n(3038),f=n.n(g),m=n(184),y=d.Z.Countdown,v=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var o;return(0,s.Z)(this,n),(o=t.call(this,e)).debounce=void 0,o.state={isPassword:!0,getPhone:"",getCode:"",getPassword:"",isClass:!1,isBtn:!1,isDaoJiShi:!1},o.onChange=function(e){e<=100&&(console.log("changed!"),o.setState({isBtn:!1,isDaoJiShi:!1}))},o.get_huoqu_code=f()(o.get_huoqu_code,2e3),o}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isPassword,s=t.getPhone,o=t.getCode,a=t.getPassword,i=t.isClass,r=t.isBtn,u=t.isDaoJiShi;return(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"SetPass_box",children:(0,m.jsxs)("div",{className:"content",children:[(0,m.jsx)("div",{className:"header",children:(0,m.jsx)("b",{children:"\u91cd\u7f6e\u5bc6\u7801"})}),(0,m.jsxs)("div",{className:"list",children:[(0,m.jsx)("p",{children:(0,m.jsx)("input",{type:"text",className:i?"active":"",placeholder:"\u624b\u673a\u53f7",onFocus:function(){e.phone_focus()},onBlur:function(){e.phone_blur()},defaultValue:s,onChange:function(t){e.get_phone(t)}})}),(0,m.jsxs)("p",{className:"daojishi",children:[(0,m.jsx)("input",{type:"text",value:o,onChange:function(t){e.get_code(t.target.value)},placeholder:"\u9a8c\u8bc1\u7801"}),(0,m.jsxs)("button",{disabled:!!r,className:r?"list_p_span_s":"list_p_span",onClick:function(){e.get_huoqu_code()},children:[u?(0,m.jsx)(y,{title:"",value:Date.now()+59e3,onChange:this.onChange,format:"ss"}):null,"\u83b7\u53d6\u9a8c\u8bc1\u7801"]})]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("input",{value:a,onChange:function(t){e.get_password(t.target.value)},type:n?"password":"text",placeholder:"\u65b0\u5bc6\u7801"}),(0,m.jsx)("span",{className:"list_span",onClick:function(){e.yinOrXian()},children:n?(0,m.jsx)(c.Z,{}):(0,m.jsx)(l.Z,{})})]})]}),(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"btn",children:[(0,m.jsx)(h.Z,{type:"primary",size:"large",onClick:function(){e.btn_queding()},children:"\u786e\u5b9a"}),(0,m.jsx)(h.Z,{type:"primary",size:"large",onClick:function(){e.props.guanbiWangPass()},children:"\u8fd4\u56de\u767b\u5f55"})]})})]})})})}},{key:"get_phone",value:function(e){this.setState({getPhone:e.target.value})}},{key:"phone_blur",value:function(){!1===/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(this.state.getPhone)&&(p.ZP.warning("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e",3),this.setState({isClass:!0}))}},{key:"get_huoqu_code",value:function(){if(""!==this.state.getPhone){this.setState({isBtn:!0,isDaoJiShi:!0});var e=this.state.getPhone,t=Math.random().toString(10).slice(2,6);console.log(t),/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(this.state.getPhone)&&u.aP({phone:e,random:t}).then((function(e){console.log(e),1==e.masg&&p.ZP.warning("\u624b\u673a\u53f7\u4e0d\u5b58\u5728",3)}))}else p.ZP.warning("\u624b\u673a\u53f7\u4e0d\u4e0d\u80fd\u4e3a\u7a7a",3)}},{key:"phone_focus",value:function(){this.setState({isClass:!1})}},{key:"get_code",value:function(e){this.setState({getCode:e},(function(){}))}},{key:"get_password",value:function(e){this.setState({getPassword:e},(function(){}))}},{key:"yinOrXian",value:function(){this.setState({isPassword:!this.state.isPassword})}},{key:"btn_queding",value:function(){var e=this,t=this.state.getPhone,n=this.state.getCode,s=this.state.getPassword;""!==t?""!==n?""!==s?u.dB({phone:t,codes:n,password:s}).then((function(t){2==t.masg?p.ZP.warning("\u9a8c\u8bc1\u7801\u9519\u8bef",3):1==t.masg&&(p.ZP.warning("\u4fee\u6539\u6210\u529f",3),setTimeout((function(){e.props.guanbiWangPass()}),1e3))})):p.ZP.warning("\u65b0\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",3):p.ZP.warning("\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a",3):p.ZP.warning("\u8bf7\u8f93\u5165\u624b\u673a\u53f7",3)}}]),n}(r.Component),_=n(364),x=n(9387),P=d.Z.Countdown,S=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e){var o;return(0,s.Z)(this,n),(o=t.call(this,e)).state={tabIndex:0,user_phone:"",password:"",codes:"",isSed:!1,masg:"",isPass:!0,isSetPass:!1,isDaoJiShi:!1,isBtn:!1},o.guanbiWangPass=function(){o.setState({isSetPass:!1})},o.onChange=function(e){e<=100&&(console.log("changed!"),o.setState({isBtn:!1,isDaoJiShi:!1}))},o.getCode=f()(o.getCode,2e3),o}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.tabIndex,s=t.user_phone,o=t.password,a=t.codes,i=t.isSed,r=t.isPass,u=t.isSetPass,d=t.isDaoJiShi,p=t.isBtn;return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"loginImg",children:[(0,m.jsx)("div",{children:"Login"}),(0,m.jsxs)("div",{className:"con",children:[(0,m.jsxs)("div",{className:"header",children:[(0,m.jsx)("p",{className:0===n?"sed":"",onClick:function(){e.setState({tabIndex:0,user_phone:"",password:"",isSed:!1})},children:"\u5bc6\u7801\u767b\u5f55"}),(0,m.jsx)("p",{className:1===n?"sed":"",onClick:function(){e.setState({tabIndex:1,user_phone:"",codes:"",isSed:!1})},children:"\u9a8c\u8bc1\u7801\u767b\u5f55"})]}),(0,m.jsx)("div",{children:0===n?(0,m.jsxs)("div",{className:"inp",children:[(0,m.jsx)("p",{children:(0,m.jsx)("input",{type:"text",placeholder:"\u624b\u673a\u53f7/\u7528\u6237\u540d",className:i?"active":"",value:s,onChange:function(t){e.getUser_phong(t.target.value)},onBlur:function(){e.blurUser_phone()},onFocus:function(){e.focusUser_phone()}})}),(0,m.jsxs)("p",{children:[(0,m.jsx)("input",{type:r?"password":"text",placeholder:"\u5bc6\u7801",value:o,onChange:function(t){e.getUser_password(t.target.value)}}),(0,m.jsx)("span",{onClick:function(){e.tabIcon()},children:r?(0,m.jsx)(c.Z,{}):(0,m.jsx)(l.Z,{})})]}),(0,m.jsx)("p",{className:"wangPss",onClick:function(){e.wangPass()},children:"\u5fd8\u8bb0\u5bc6\u7801"}),(0,m.jsx)("div",{className:"btn",children:(0,m.jsx)(h.Z,{type:"primary",size:"large",onClick:function(){e.btn_Ok()},children:"\u767b\u5f55"})})]}):(0,m.jsxs)("div",{className:"inp",children:[(0,m.jsx)("p",{children:(0,m.jsx)("input",{className:!0===i?"active":"",type:"text",placeholder:"\u624b\u673a\u53f7",value:s,onChange:function(t){e.getUser_phong(t.target.value)},onBlur:function(){e.inpBlur()},onFocus:function(){e.inpFocus()}})}),(0,m.jsxs)("p",{className:"daojishi",children:[(0,m.jsx)("input",{type:"text",placeholder:"\u9a8c\u8bc1\u7801",value:a,onChange:function(t){e.getUser_codes(t.target.value)}}),(0,m.jsxs)("button",{disabled:!!p,className:p?"code_span_s":"code_span",onClick:function(){e.getCode()},children:[d?(0,m.jsx)(P,{title:"",value:Date.now()+5e4,onChange:this.onChange,format:"ss"}):null,"\u83b7\u53d6\u9a8c\u8bc1\u7801"]})]}),(0,m.jsx)("p",{className:"wangPss",onClick:function(){e.wangPass()},children:"\u5fd8\u8bb0\u5bc6\u7801"}),(0,m.jsx)("div",{className:"btn",children:(0,m.jsx)(h.Z,{type:"primary",size:"large",onClick:function(){e.btn_code()},children:"\u767b\u5f55"})})]})})]}),u?(0,m.jsx)(v,{guanbiWangPass:this.guanbiWangPass}):null]})})}},{key:"componentDidMount",value:function(){}},{key:"wangPass",value:function(){this.setState({isSetPass:!0})}},{key:"tabIcon",value:function(){this.setState({isPass:!this.state.isPass})}},{key:"blurUser_phone",value:function(){this.state.user_phone.length<6&&(p.ZP.warning("\u624b\u673a\u53f7/\u7528\u6237\u540d\u81f3\u5c116\u4f4d",3),this.setState({isSed:!0}))}},{key:"focusUser_phone",value:function(){this.setState({isSed:!1})}},{key:"getUser_phong",value:function(e){this.setState({user_phone:e},(function(){}))}},{key:"getUser_password",value:function(e){this.setState({password:e},(function(){}))}},{key:"getUser_codes",value:function(e){this.setState({codes:e},(function(){}))}},{key:"inpBlur",value:function(){!1===/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(this.state.user_phone)&&(p.ZP.warning("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e",3),this.setState({isSed:!0}))}},{key:"inpFocus",value:function(){this.setState({isSed:!1})}},{key:"btn_Ok",value:function(){var e=this,t={usr_or_phone:"",password:""};t.usr_or_phone=this.state.user_phone,t.password=this.state.password,""!==this.state.user_phone?""!==this.state.password?!0!==this.state.isSed&&u.JN(t).then((function(t){console.log(t.code),1===t.masg?(p.ZP.success("\u767b\u9646\u6210\u529f",3),e.props.setLoginId({id:+t.user.id}),e.props.history.push("/layout/home"),localStorage.setItem("token",JSON.stringify(t.user))):2===t.masg?p.ZP.warning("\u8be5\u8d26\u53f7\u5df2\u7ecf\u505c\u7528",3):3===t.masg?p.ZP.warning("\u5bc6\u7801\u9519\u8bef",3):4===t.masg&&p.ZP.warning("\u8d26\u53f7\u4e0d\u5b58\u5728",3)})):p.ZP.warning("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",3):p.ZP.warning("\u624b\u673a\u53f7/\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a",3)}},{key:"getCode",value:function(){var e={usr_or_phone:"",codes:""},t=Math.random().toString(10).slice(2,6);console.log(t),e.usr_or_phone=this.state.user_phone,e.codes=t,""!==this.state.user_phone?(this.setState({isBtn:!0,isDaoJiShi:!0}),u.p9(e).then((function(e){console.log(e.code)}))):p.ZP.warning("\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a",3)}},{key:"btn_code",value:function(){var e=this,t={usr_or_phone:"",codes:""};t.usr_or_phone=this.state.user_phone,t.codes=this.state.codes,""!==this.state.user_phone?u.FZ(t).then((function(t){4==t.masg?p.ZP.warning("\u624b\u673a\u53f7\u4e0d\u5b58\u5728",3):3==t.masg?p.ZP.warning("\u9a8c\u8bc1\u7801\u9519\u8bef",3):1==t.masg&&(p.ZP.warning("\u767b\u9646\u6210\u529f",3),localStorage.setItem("token",JSON.stringify(t.user)),e.props.history.push("/layout/home"))})):p.ZP.warning("\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a",3)}}]),n}(r.Component),C=(0,_.$j)((function(e){return e.examEdit}),x.Z.examEdit)(S)}}]);
//# sourceMappingURL=612.832aefa8.chunk.js.map