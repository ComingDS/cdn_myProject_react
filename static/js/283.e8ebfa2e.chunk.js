"use strict";(self.webpackChunkbackstage_react_ts=self.webpackChunkbackstage_react_ts||[]).push([[283],{7645:function(e,n,t){t.d(n,{Cm:function(){return u},ES:function(){return p},FZ:function(){return i},JN:function(){return a},Jw:function(){return j},PL:function(){return f},W0:function(){return d},XE:function(){return x},aI:function(){return o},aP:function(){return c},dB:function(){return l},ef:function(){return h},p9:function(){return s},zW:function(){return v}});var r=t(544),a=function(e){return r.Z.request({url:"/HXCsetObj",method:"GET",params:e})},i=function(e){return r.Z.request({url:"/HXCGetCodes",method:"GET",params:e})},s=function(e){return r.Z.request({url:"/HXCGetRandom",method:"GET",params:e})},c=function(e){return r.Z.request({url:"/setPassCode",method:"GET",params:e})},l=function(e){return console.log(e),r.Z.request({url:"/HXCxiuPass",method:"GET",params:e})},o=function(){return r.Z.request({url:"/HXCGetUserData",method:"GET"})},u=function(e){return console.log(e),r.Z.request({url:"/HXCxiuType",method:"GET",params:e})},d=function(e){return console.log(e),r.Z.request({url:"/HXCDelUser",method:"GET",params:e})},h=function(e){return r.Z.request({url:"/HXCScreenUser",method:"GET",params:e})},f=function(e){return r.Z.request({url:"/HXCEnitOk",method:"GET",params:e})},x=function(e){return r.Z.request({url:"/HXCAddOk",method:"GET",params:e})},p=function(e){return r.Z.request({url:"/HXCUserSearch",method:"GET",params:e})},v=function(){return r.Z.request({url:"/HXCDelLogList",method:"GET"})},j=function(e){return console.log(e),r.Z.request({url:"/HXCRegainDel",method:"GET",params:e})}},544:function(e,n,t){var r=t(4569),a=t.n(r)().create({baseURL:"/api",timeout:5e3});a.interceptors.request.use((function(e){return e}),(function(){throw new Error("\u53d1\u8d77\u8bf7\u6c42\u51fa\u9519")})),a.interceptors.response.use((function(e){return e.data}),(function(e){if(e&&e.response&&e.response.status)switch(e.response.status){case 504:case 500:case 404:console.error("\u670d\u52a1\u5668\u5f02\u5e38");break;case 401:console.error("\u672a\u6388\u6743");break;case 403:console.error("\u65e0\u6743\u8bbf\u95ee");break;case 422:console.error("\u53c2\u6570\u51fa\u9519");break;default:console.error("\u672a\u77e5\u9519\u8bef")}})),n.Z=a},2283:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(5671),a=t(3144),i=t(136),s=t(8557),c=t(2791),l=t(5861),o=t(9439),u=t(7757),d=t.n(u),h=t(7645),f=t(8573),x=t.n(f),p=t(732),v=t(184),j=function(e){return(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"mc",children:(0,v.jsxs)("div",{className:"alertBox",children:[(0,v.jsxs)("div",{className:"top",children:[(0,v.jsx)("p",{children:e.title}),(0,v.jsx)(p.Z,{onClick:function(){e.alertClose()},className:"iconfont"})]}),(0,v.jsx)("div",{className:"main",style:e.style,children:e.children}),(0,v.jsx)("div",{className:"bot",children:e.btnslot})]})})})},m=t(8900),Z=t(3695),g=t(5581),C=t(5303),S=t(7309),k=t(3951),I=t(8757),y=t(3231),N=m.Z.Search,b=function(e){var n=(0,c.useState)([]),t=(0,o.Z)(n,2),r=t[0],a=t[1],i=(0,c.useState)(!1),s=(0,o.Z)(i,2),u=s[0],f=s[1],p=(0,c.useState)(""),m=(0,o.Z)(p,2),b=m[0],w=m[1],E=(0,c.useState)(""),T=(0,o.Z)(E,2),O=T[0],P=T[1],G=(0,c.useState)(!1),_=(0,o.Z)(G,2),q=_[0],H=_[1],X=(0,c.useState)([]),J=(0,o.Z)(X,2),U=J[0],z=J[1],D=(0,c.useState)(""),K=(0,o.Z)(D,2),R=K[0],W=K[1],F=(0,c.useState)(""),L=(0,o.Z)(F,2),A=L[0],B=L[1],M=(0,c.useState)(""),V=(0,o.Z)(M,2),$=V[0],Q=V[1],Y=(0,c.useState)(""),ee=(0,o.Z)(Y,2),ne=ee[0],te=ee[1],re=(0,c.useState)(),ae=(0,o.Z)(re,2),ie=ae[0],se=ae[1],ce=(0,c.useState)(),le=(0,o.Z)(ce,2),oe=(le[0],le[1],(0,c.useState)(!1)),ue=(0,o.Z)(oe,2),de=ue[0],he=ue[1],fe=(0,c.useState)(""),xe=(0,o.Z)(fe,2),pe=xe[0],ve=xe[1],je=(0,c.useCallback)(x()((function(e){return ve(e)}),1e3),[ve]),me=(0,c.useState)(""),Ze=(0,o.Z)(me,2),ge=Ze[0],Ce=Ze[1],Se=(0,c.useState)(""),ke=(0,o.Z)(Se,2),Ie=ke[0],ye=ke[1],Ne=(0,c.useState)(""),be=(0,o.Z)(Ne,2),we=be[0],Ee=be[1],Te=(0,c.useState)(1),Oe=(0,o.Z)(Te,2),Pe=Oe[0],Ge=Oe[1],_e=(0,c.useState)(1),qe=(0,o.Z)(_e,2),He=qe[0],Xe=qe[1],Je=(0,c.useState)(!1),Ue=(0,o.Z)(Je,2),ze=Ue[0],De=Ue[1],Ke=(0,c.useState)(!1),Re=(0,o.Z)(Ke,2),We=Re[0],Fe=Re[1],Le=(0,c.useState)([]),Ae=(0,o.Z)(Le,2),Be=Ae[0],Me=Ae[1];(0,c.useEffect)((function(){Ve(O)}),[O]),(0,c.useEffect)((function(){h.aI().then((function(e){var n=e.data,t=localStorage.getItem("token"),r=JSON.parse(t),i=n.findIndex((function(e){return e.id===r.id}));n.splice(i,1),a(n)}))}),[]);function Ve(e){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n,P(n),H(!0),e.next=5,h.ef({userid:t});case 5:r=e.sent,z(r.data),r.data[0]&&r.data[0].user&&W(r.data[0].user),r.data[0]&&r.data[0].password&&B(r.data[0].password),r.data[0]&&r.data[0].userName&&Q(r.data[0].userName),r.data[0]&&r.data[0].phone&&te(r.data[0].phone),r.data[0]&&r.data[0].roles&&se(r.data[0].roles);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qe=[{title:"\u7528\u6237\u8d26\u53f7",dataIndex:"user"},{title:"\u7528\u6237\u540d",dataIndex:"userName"},{title:"\u624b\u673a\u53f7",dataIndex:"phone"},{title:"\u89d2\u8272",dataIndex:"roles",render:function(e,n){return(0,v.jsx)("span",{children:1==n.roles?(0,v.jsx)("span",{children:(0,v.jsx)("a",{children:"\u8d85\u7ea7\u7ba1\u7406\u5458"})}):(0,v.jsx)("span",{children:"\u7ba1\u7406\u5458"})})}},{title:"\u8d26\u6237\u72b6\u6001",dataIndex:"type",render:function(e,n){return(0,v.jsx)(g.Z,{size:"small",checkedChildren:"\u542f\u7528",unCheckedChildren:"\u7981\u7528",onChange:function(e){return function(e,n,t){var r=e.id,a=n;h.Cm({id:r,type:a}).then((function(e){}))}(n,e)},defaultChecked:1==e})}},{title:"\u64cd\u4f5c",render:function(e,n){return(0,v.jsxs)(C.Z,{size:"middle",children:[(0,v.jsx)("a",{onClick:function(){Ve(n.id)},children:"\u7f16\u8f91"}),(0,v.jsx)("a",{onClick:function(){var e;e=n.id,f(!0),w(e)},children:"\u5220\u9664"})]})}}],Ye=[{title:"\u7528\u6237\u8d26\u53f7",dataIndex:"user"},{title:"\u7528\u6237\u540d",dataIndex:"userName"},{title:"\u624b\u673a\u53f7",dataIndex:"phone"},{title:"\u89d2\u8272",dataIndex:"roles",render:function(e,n){return(0,v.jsx)("span",{children:1==n.roles?(0,v.jsx)("span",{children:(0,v.jsx)("a",{children:"\u8d85\u7ea7\u7ba1\u7406\u5458"})}):(0,v.jsx)("span",{children:"\u7ba1\u7406\u5458"})})}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"people"},{title:"\u6062\u590d",render:function(e,n){return(0,v.jsx)(C.Z,{size:"middle",children:(0,v.jsx)("a",{onClick:function(){var e;e=n.newId,console.log(e,"--------296"),h.Jw({newId:e}).then((function(e){var n=e.data,t=localStorage.getItem("token"),r=JSON.parse(t),i=n.findIndex((function(e){return e.id===r.id}));n.splice(i,1),a(n),Me(e.data3)}))},children:"\u6062\u590d"})})}}];return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"user_box_header",children:[(0,v.jsx)("div",{children:(0,v.jsx)(S.Z,{type:"primary",onClick:function(){he(!0)},children:"\xa0\xa0\u65b0\u589e\xa0\xa0"})}),(0,v.jsx)("div",{children:(0,v.jsx)(C.Z,{direction:"vertical",children:(0,v.jsx)(N,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u3001\u8d26\u53f7\u3001\u624b\u673a\u53f7",onSearch:function(e){h.ES({value:e}).then((function(n){if(""===e){var t=n.data,r=localStorage.getItem("token"),i=JSON.parse(r),s=t.findIndex((function(e){return e.id===i.id}));t.splice(s,1),a(t)}else a(n.data)}))},enterButton:!0})})})]}),r.length>0?(0,v.jsx)(k.Z,{columns:Qe,dataSource:r,rowKey:"id"}):null,(0,v.jsx)("div",{children:(0,v.jsx)(I.Z,{title:"\u5220\u9664",visible:u,onOk:function(){f(!1);var e=JSON.parse(localStorage.getItem("token")||"0");h.W0({delId:b,token:e}).then((function(e){var n=e.data,t=localStorage.getItem("token"),r=JSON.parse(t),i=n.findIndex((function(e){return e.id===r.id}));n.splice(i,1),a(n)}))},onCancel:function(){f(!1)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:(0,v.jsx)("p",{children:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u7ba1\u7406\u5458\u7801\uff1f"})})}),(0,v.jsx)("div",{className:"user_enit",children:U.length>0?(0,v.jsxs)(I.Z,{title:"\u7f16\u8f91\u5f39\u7a97",visible:q,onOk:function(){h.PL({enitUser:R,enitPass:A,enitUserName:$,enitUserPhone:ne,roles:ie,enit:O}).then((function(e){var n=e.data,t=localStorage.getItem("token"),r=JSON.parse(t),i=n.findIndex((function(e){return e.id===r.id}));n.splice(i,1),a(n),P("")})),H(!1)},onCancel:function(){P(""),H(!1)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:[(0,v.jsxs)("p",{className:"enit_p",children:["\u7528\u6237\u8d26\u53f7\uff1a",(0,v.jsx)("input",{type:"text",value:R,onChange:function(e){W(e.target.value)}})]}),(0,v.jsxs)("p",{children:["\u7528\u6237\u5bc6\u7801\uff1a",(0,v.jsx)("input",{type:"text",value:A,onChange:function(e){B(e.target.value)}})]}),(0,v.jsxs)("p",{children:["\u7528\u6237\u59d3\u540d\uff1a",(0,v.jsx)("input",{type:"text",value:$,onChange:function(e){Q(e.target.value)}})]}),(0,v.jsxs)("p",{children:["\u624b\u673a\u53f7\xa0\xa0\xa0\xa0\uff1a",(0,v.jsx)("input",{type:"text",value:ne,onChange:function(e){te(e.target.value)}})]}),(0,v.jsxs)("div",{children:["\u89d2\xa0\xa0\xa0\xa0\u8272\xa0\xa0\xa0\xa0\uff1a",(0,v.jsxs)(y.ZP.Group,{onChange:function(e){se(e.target.value)},value:ie,children:[(0,v.jsx)(y.ZP,{value:"2",children:"\u666e\u901a\u7ba1\u7406\u5458"}),(0,v.jsx)(y.ZP,{value:"1",children:"\u8d85\u7ea7\u7ba1\u7406\u5458"})]})]})]}):null}),(0,v.jsx)("div",{children:(0,v.jsxs)(I.Z,{title:"\u6dfb\u52a0\u7ba1\u7406\u5458",visible:de,onOk:function(){he(!1),pe.length>0&&ge.length>0&&we.length>0?setTimeout((function(){h.XE({addUser:pe,addPass:ge,addUserName:Ie,addPhone:we,addRoles:Pe,addType:He}).then((function(e){var n=e.data,t=localStorage.getItem("token"),r=JSON.parse(t),i=n.findIndex((function(e){return e.id===r.id}));n.splice(i,1),a(n)}))}),500):Z.ZP.warning("\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a",3),ve(""),Ce(""),ye(""),Ee(""),Ge(1),Xe(1)},onCancel:function(){he(!1)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:[(0,v.jsxs)("p",{className:"enit_p",children:["\u7528\u6237\u8d26\u53f7\uff1a",(0,v.jsx)("input",{type:"text",value:pe,onChange:function(e){var n=e.target.value;ve(n),je(n)}})]}),(0,v.jsxs)("p",{children:["\u7528\u6237\u5bc6\u7801\uff1a",(0,v.jsx)("input",{type:"text",value:ge,onChange:function(e){Ce(e.target.value)}})]}),(0,v.jsxs)("p",{children:["\u7528\u6237\u59d3\u540d\uff1a",(0,v.jsx)("input",{type:"text",value:Ie,onChange:function(e){ye(e.target.value)}})]}),(0,v.jsxs)("p",{children:["\u624b\u673a\u53f7\xa0\xa0\xa0\xa0\uff1a",(0,v.jsx)("input",{type:"text",className:ze?"sedd":"",value:we,onChange:function(e){Ee(e.target.value)},onBlur:function(){!1===/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(we)&&(De(!0),Z.ZP.warning("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e",3))},onFocus:function(){De(!1)}})]}),(0,v.jsxs)("div",{children:["\u89d2\xa0\xa0\xa0\xa0\u8272\xa0\xa0\xa0\xa0\uff1a",(0,v.jsxs)(y.ZP.Group,{onChange:function(e){Ge(e.target.value)},value:Pe,children:[(0,v.jsx)(y.ZP,{value:1,children:"\u666e\u901a\u7ba1\u7406\u5458"}),(0,v.jsx)(y.ZP,{value:2,children:"\u8d85\u7ea7\u7ba1\u7406\u5458"})]})]}),(0,v.jsxs)("div",{children:["\u662f\u5426\u542f\u7528\uff1a",(0,v.jsxs)(y.ZP.Group,{onChange:function(e){Xe(e.target.value)},value:He,children:[(0,v.jsx)(y.ZP,{value:1,children:"\u662f"}),(0,v.jsx)(y.ZP,{value:2,children:"\u5426"})]})]})]})}),(0,v.jsx)("div",{children:We?(0,v.jsx)(j,{title:"\u5220\u9664\u8bb0\u5f55",btnslot:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{onClick:function(){Fe(!1)},children:"\u8fd4\u56de"})}),style:{},alertClose:function(){Fe(!1)},children:(0,v.jsx)("div",{children:Be.length>0?(0,v.jsx)(k.Z,{columns:Ye,dataSource:Be,rowKey:"newId",pagination:!1,bordered:!0}):null})}):null}),(0,v.jsx)("div",{children:(0,v.jsx)(S.Z,{onClick:function(){Fe(!0),h.zW().then((function(e){Me(e.data)}))},children:"\u5220\u9664\u8bb0\u5f55"})})]})},w=(m.Z.Search,function(e){var n=(0,c.useState)([]),t=(0,o.Z)(n,2),r=t[0],a=t[1],i=(0,c.useState)(!1),s=(0,o.Z)(i,2),l=s[0],u=s[1],d=(0,c.useState)([]),f=(0,o.Z)(d,2),x=f[0],p=f[1];(0,c.useEffect)((function(){return h.aI().then((function(e){var n=e.data,t=localStorage.getItem("token"),r=JSON.parse(t),i=n.findIndex((function(e){return e.id===r.id}));n.splice(i,1),a(n)})),function(){console.log(213)}}),[]);var m=[{title:"\u7528\u6237\u8d26\u53f7",dataIndex:"user"},{title:"\u7528\u6237\u540d",dataIndex:"userName"},{title:"\u624b\u673a\u53f7",dataIndex:"phone"},{title:"\u89d2\u8272",dataIndex:"roles",render:function(e,n){return(0,v.jsx)("span",{children:1==n.roles?(0,v.jsx)("span",{children:(0,v.jsx)("a",{children:"\u8d85\u7ea7\u7ba1\u7406\u5458"})}):(0,v.jsx)("span",{children:"\u7ba1\u7406\u5458"})})}}],Z=[{title:"\u7528\u6237\u8d26\u53f7",dataIndex:"user"},{title:"\u7528\u6237\u540d",dataIndex:"userName"},{title:"\u624b\u673a\u53f7",dataIndex:"phone"},{title:"\u89d2\u8272",dataIndex:"roles",render:function(e,n){return(0,v.jsx)("span",{children:1==n.roles?(0,v.jsx)("span",{children:(0,v.jsx)("a",{children:"\u8d85\u7ea7\u7ba1\u7406\u5458"})}):(0,v.jsx)("span",{children:"\u7ba1\u7406\u5458"})})}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"people"}];return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"user_box_header"}),r.length>0?(0,v.jsx)(k.Z,{columns:m,dataSource:r,rowKey:"id"}):null,(0,v.jsx)("div",{children:(0,v.jsx)(S.Z,{onClick:function(){u(!0),h.zW().then((function(e){p(e.data)}))},children:"\u5220\u9664\u8bb0\u5f55"})}),(0,v.jsx)("div",{children:l?(0,v.jsx)(j,{title:"\u5220\u9664\u8bb0\u5f55",btnslot:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{onClick:function(){u(!1)},children:"\u8fd4\u56de"})}),style:{},alertClose:function(){u(!1)},children:(0,v.jsx)("div",{children:x.length>0?(0,v.jsx)(k.Z,{columns:Z,dataSource:x,rowKey:"newId",pagination:!1,bordered:!0}):null})}):null})]})}),E=function(e){(0,i.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=n.call.apply(n,[this].concat(i))).state={obj:{},i:""},e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this.state.i;return(0,v.jsx)("div",{children:"1"===e?(0,v.jsx)(b,{}):(0,v.jsx)(w,{})})}},{key:"componentDidMount",value:function(){}},{key:"UNSAFE_componentWillMount",value:function(){var e=localStorage.getItem("token"),n=JSON.parse(e),t=n.roles;this.setState({obj:n,i:t})}}]),t}(c.Component)},5581:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(7462),a=t(4942),i=t(2791),s=t(9439),c=t(5987),l=t(1694),o=t.n(l),u=t(5179),d=t(1354),h=i.forwardRef((function(e,n){var t,r=e.prefixCls,l=void 0===r?"rc-switch":r,h=e.className,f=e.checked,x=e.defaultChecked,p=e.disabled,v=e.loadingIcon,j=e.checkedChildren,m=e.unCheckedChildren,Z=e.onClick,g=e.onChange,C=e.onKeyDown,S=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,u.Z)(!1,{value:f,defaultValue:x}),I=(0,s.Z)(k,2),y=I[0],N=I[1];function b(e,n){var t=y;return p||(N(t=e),null===g||void 0===g||g(t,n)),t}var w=o()(l,h,(t={},(0,a.Z)(t,"".concat(l,"-checked"),y),(0,a.Z)(t,"".concat(l,"-disabled"),p),t));return i.createElement("button",Object.assign({},S,{type:"button",role:"switch","aria-checked":y,disabled:p,className:w,ref:n,onKeyDown:function(e){e.which===d.Z.LEFT?b(!1,e):e.which===d.Z.RIGHT&&b(!0,e),null===C||void 0===C||C(e)},onClick:function(e){var n=b(!y,e);null===Z||void 0===Z||Z(n,e)}}),v,i.createElement("span",{className:"".concat(l,"-inner")},y?j:m))}));h.displayName="Switch";var f=h,x=t(7106),p=t(2833),v=t(9077),j=t(1815),m=t(4824),Z=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},g=i.forwardRef((function(e,n){var t,s=e.prefixCls,c=e.size,l=e.loading,u=e.className,d=void 0===u?"":u,h=e.disabled,g=Z(e,["prefixCls","size","loading","className","disabled"]);(0,m.Z)("checked"in g||!("value"in g),"Switch","`value` is not a valid prop, do you mean `checked`?");var C=i.useContext(v.E_),S=C.getPrefixCls,k=C.direction,I=i.useContext(j.Z),y=S("switch",s),N=i.createElement("div",{className:"".concat(y,"-handle")},l&&i.createElement(x.Z,{className:"".concat(y,"-loading-icon")})),b=o()((t={},(0,a.Z)(t,"".concat(y,"-small"),"small"===(c||I)),(0,a.Z)(t,"".concat(y,"-loading"),l),(0,a.Z)(t,"".concat(y,"-rtl"),"rtl"===k),t),d);return i.createElement(p.Z,{insertExtraNode:!0},i.createElement(f,(0,r.Z)({},g,{prefixCls:y,className:b,disabled:h||l,ref:n,loadingIcon:N})))}));g.__ANT_SWITCH=!0,g.displayName="Switch";var C=g}}]);
//# sourceMappingURL=283.e8ebfa2e.chunk.js.map